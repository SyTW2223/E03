(function(){var t={8440:function(){},3006:function(t,e,s){"use strict";var a=s(6369),i=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},r=[],o=s(8440),n=s.n(o),l=n(),c=s(1001),u=(0,c.Z)(l,i,r,!1,null,null,null),d=u.exports,m=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("Navbar"),e("div",{attrs:{id:"login"}},[e("div",{attrs:{id:"description"}},[e("h1",[t._v("Login")]),e("p",[t._v("¿No estas registrado?")]),e("router-link",{attrs:{to:"/register"}},[e("small",[t._v("Registrate")])])],1),e("div",{attrs:{id:"form"}},[e("form",{on:{submit:function(e){return e.preventDefault(),t.doLogin.apply(null,arguments)}}},[e("label",{attrs:{for:"email"}},[t._v("Email")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],attrs:{type:"text",id:"email",placeholder:"example@outlook.com",autocomplete:"off",required:""},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),e("label",{attrs:{for:"password"}},[t._v("Password")]),e("i",{staticClass:"fas",on:{click:function(e){t.hidePassword=!t.hidePassword}}}),e("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password",id:"password",placeholder:"**********",required:""},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),e("svg",{staticStyle:{display:"none"},attrs:{xmlns:"http://www.w3.org/2000/svg"}},[e("symbol",{attrs:{id:"exclamation-triangle-fill",fill:"currentColor",viewBox:"0 0 16 16"}},[e("path",{attrs:{d:"M8.982 1.566a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566zM8 5c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995A.905.905 0 0 1 8 5zm.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"}})])]),t.message&&!t.isAuth?e("div",{staticClass:"alert alert-danger d-flex align-items-center d-flex justify-content-center",attrs:{role:"alert"}},[e("svg",{staticClass:"bi flex-shrink-0 me-2",attrs:{width:"24",height:"24",role:"img","aria-label":"Danger:"}},[e("use",{attrs:{"xlink:href":"#exclamation-triangle-fill"}})]),e("div",[t._v(" "+t._s(this.message)+" ")])]):t._e(),t.message&&t.isAuth?e("div",{staticClass:"alert alert-success d-flex align-items-center d-flex justify-content-center",attrs:{role:"alert"}},[e("svg",{staticClass:"bi flex-shrink-0 me-2",attrs:{width:"24",height:"24",role:"img","aria-label":"Success:"}},[e("use",{attrs:{"xlink:href":"#check-circle-fill"}})]),e("div",[t._v(" "+t._s(this.message)+" ")])]):t._e(),e("button",{attrs:{type:"button"},on:{click:t.doLogin}},[t._v("Login")])])])])],1)},h=[],p=(s(7658),function(){var t=this,e=t._self._c;return e("nav",{staticClass:"navbar bg-body-tertiary custom-color"},[e("div",{staticClass:"container-fluid"},[e("router-link",{staticClass:"navbar-brand text-white",attrs:{to:"/"}},[e("img",{staticClass:"d-inline-block align-text-top",staticStyle:{width:"auto",height:"40px"},attrs:{src:s(8796),alt:"Logo"}}),t._v(" MobTycoon ")])],1)])}),g=[],f={computed:{isMobile(){return window.innerWidth<=768}},methods:{toggleSidebar(){this.$emit("toggle-sidebar")}}},v=f,w=(0,c.Z)(v,p,g,!1,null,null,null),b=w.exports,y={name:"Login",components:{Navbar:b},data(){return{email:"",password:"",isAuth:"",username:"",message:""}},created(){if(localStorage.getItem("token")){const t=localStorage.getItem("user");t&&this.$store.commit("auth/setUser",JSON.parse(t)),this.$router.push(`/homeLogin/${this.$store.state.auth.username}`)}},methods:{async doLogin(){if(!this.email||!this.password)return void(this.message="Por favor, complete todos los campos");const t=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;t.test(this.email)?(await this.$store.dispatch("auth/doLogin",{email:this.email,password:this.password}),this.isAuth=this.$store.state.auth.isAuth,this.message=this.$store.state.auth.message,localStorage.getItem("token")&&(this.username=this.$store.state.auth.user.username,this.$router.push(`/homeLogin/${this.username}`))):this.message="El correo electrónico no tiene un formato válido"}}},C=y,_=(0,c.Z)(C,m,h,!1,null,null,null),x=_.exports,k=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("Navbar"),e("div",{attrs:{id:"register"}},[e("div",{attrs:{id:"description"}},[e("h1",[t._v("Registro")]),e("p",[t._v("Si ya tienes cuenta")]),e("router-link",{attrs:{to:"/login"}},[e("small",[t._v("Inicia sesión")])])],1),e("div",{attrs:{id:"form"}},[e("form",{on:{submit:function(e){return e.preventDefault(),t.doRegister.apply(null,arguments)}}},[e("label",{attrs:{for:"name"}},[t._v("Nombre")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],attrs:{type:"text",id:"name",placeholder:"Elon Musk",autocomplete:"off",required:""},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}}),e("label",{attrs:{for:"username"}},[t._v("Nombre de usuario")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],attrs:{type:"text",id:"username",placeholder:"ElonM123",autocomplete:"off",required:""},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}}),e("label",{attrs:{for:"email"}},[t._v("Email")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],attrs:{type:"email",id:"email",placeholder:"elon@musk.io",autocomplete:"off",required:""},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),e("label",{attrs:{for:"password"}},[t._v("Contraseña")]),e("i",{staticClass:"fas",on:{click:function(e){t.hidePassword=!t.hidePassword}}}),e("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password",id:"password",placeholder:"**********",required:""},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),e("svg",{staticStyle:{display:"none"},attrs:{xmlns:"http://www.w3.org/2000/svg"}},[e("symbol",{attrs:{id:"exclamation-triangle-fill",fill:"currentColor",viewBox:"0 0 16 16"}},[e("path",{attrs:{d:"M8.982 1.566a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566zM8 5c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995A.905.905 0 0 1 8 5zm.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"}})]),e("symbol",{attrs:{id:"check-circle-fill",fill:"currentColor",viewBox:"0 0 16 16"}},[e("path",{attrs:{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"}})])]),t.message&&!t.isAuth?e("div",{staticClass:"alert alert-danger d-flex align-items-center d-flex justify-content-center",attrs:{role:"alert"}},[e("svg",{staticClass:"bi flex-shrink-0 me-2",attrs:{width:"24",height:"24",role:"img","aria-label":"Danger:"}},[e("use",{attrs:{"xlink:href":"#exclamation-triangle-fill"}})]),e("div",[t._v(" "+t._s(this.message)+" ")])]):t._e(),t.message&&t.isAuth?e("div",{staticClass:"alert alert-success d-flex align-items-center d-flex justify-content-center",attrs:{role:"alert"}},[e("svg",{staticClass:"bi flex-shrink-0 me-2",attrs:{width:"24",height:"24",role:"img","aria-label":"Success:"}},[e("use",{attrs:{"xlink:href":"#check-circle-fill"}})]),e("div",[t._v(" "+t._s(this.message)+" ")])]):t._e(),e("button",{attrs:{type:"submit"}},[t._v("Registro")]),e("br")])])])],1)},$=[],P={name:"Register",components:{Navbar:b},data(){return{name:"",username:"",email:"",isAuth:"",password:"",message:""}},created(){localStorage.getItem("token")&&this.$router.push("/homeLogin")},methods:{async doRegister(){if(!this.name||!this.username||!this.email||!this.password)return void(this.message="Por favor, complete todos los campos");const t=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;t.test(this.email)?(await this.$store.dispatch("auth/doRegister",{email:this.email,password:this.password,name:this.name,username:this.username}),this.isAuth=this.$store.state.auth.isAuth,this.message=this.$store.state.auth.message,localStorage.getItem("token")&&this.$router.push("/homeLogin"),this.$router.push("/Login"),window.addEventListener("beforeunload",(function(){sessionStorage.removeItem("token")}))):this.message="El correo electrónico no tiene un formato válido"}}},A=P,S=(0,c.Z)(A,k,$,!1,null,null,null),U=S.exports,I=function(){var t=this,e=t._self._c;return e("div",{staticClass:"main-page"},[e("div",{staticClass:"container"},[e("div",{staticClass:"row justify-content-center align-items-center"},[e("div",{staticClass:"col-md-6 text-center"},[e("img",{staticClass:"logo",attrs:{src:s(8796),alt:"Logo"}}),e("h1",{staticClass:"app-name"},[t._v("MobTycoon")]),e("div",{staticClass:"buttons"},[e("button",{staticClass:"custom-button-login",on:{click:t.redirectToLogin}},[t._v("Iniciar sesión")]),e("button",{staticClass:"custom-button-register",on:{click:t.redirectToRegister}},[t._v("Registrarse")])])])])])])},L=[],N={created(){if(localStorage.getItem("token")){const t=localStorage.getItem("user");t&&this.$store.commit("auth/setUser",JSON.parse(t)),this.$router.push(`/homeLogin/${this.$store.state.auth.user.username}`)}},methods:{redirectToLogin(){this.$router.push("/login")},redirectToRegister(){this.$router.push("/register")}}},M=N,Z=(0,c.Z)(M,I,L,!1,null,null,null),D=Z.exports,O=function(){var t=this,e=t._self._c;return e("div",[e("Navbar"),e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"row flex-nowrap"},[e("div",{staticClass:"col-auto col-md-3 col-xl-2 px-sm-2 px-0 custom-color-navbar"},[e("div",{staticClass:"d-flex flex-column align-items-center align-items-sm-start px-3 pt-2 text-white min-vh-100"},[e("ul",{staticClass:"nav nav-pills flex-column mb-sm-auto mb-0 align-items-center align-items-sm-start",attrs:{id:"menu"}},[e("li",{staticClass:"nav-item"},[e("p",[t._v("@"+t._s(this.$store.state.auth.user.username))])]),e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link align-middle px-0",attrs:{to:`/userProfile/${this.$store.state.auth.user.username}`}},[e("i",{staticClass:"fs-4 bi-person-lines-fill custom-color"}),t._v(" "),e("span",{staticClass:"ms-1 d-none d-sm-inline custom-color"},[t._v("Perfil")])])],1),e("li",{staticClass:"nav-item"},[e("a",{staticClass:"nav-link align-middle px-0",attrs:{href:"#"},on:{click:t.logout}},[e("i",{staticClass:"fs-4 bi-box-arrow-right custom-color"}),t._v(" "),e("span",{staticClass:"ms-1 d-none d-sm-inline custom-color"},[t._v("Cerrar sesión")])])])]),e("hr")])]),e("div",{staticClass:"col py-3"},[e("div",{staticClass:"container"},[e("div",[e("div",{staticClass:"row",staticStyle:{height:"100%"}},[e("div",{staticClass:"col-lg-12 pr-lg-4 custom-column column-margin"},[e("div",{staticClass:"d-flex justify-content-center mb-3"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.findUsername,expression:"findUsername"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Buscar usuarios"},domProps:{value:t.findUsername},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchUser.apply(null,arguments)},input:function(e){e.target.composing||(t.findUsername=e.target.value)}}})]),e("div",{staticClass:"list-group"},t._l(t.usernames,(function(s){return e("div",{key:s,staticClass:"list-group-item"},[t.ownuser!==s?e("router-link",{staticClass:"custom-link",attrs:{to:`/findUser/${t.ownuser}/${s}`}},[t._v(t._s(s))]):e("router-link",{staticClass:"custom-link",attrs:{to:`/userProfile/${t.ownuser}`}},[t._v(t._s(s))])],1)})),0)]),e("div",{staticClass:"col-lg-12 pr-lg-4 custom-column column-margin"},[e("h4",[t._v("Siguiendo")]),e("div",{staticClass:"list-group"},[e("publication")],1)])])])])])])])],1)},F=[],T=function(){var t=this,e=t._self._c;return e("div",t._l(t.publicationData,(function(s,a){return e("div",{key:a,staticClass:"publication"},[e("div",{staticClass:"user-info"},[e("div",{staticClass:"username"},[t.ownuser!==s.username?e("router-link",{staticClass:"custom-link",attrs:{to:`/findUser/${t.ownuser}/${s.username}`}},[t._v("@"+t._s(s.username))]):e("router-link",{staticClass:"custom-link",attrs:{to:`/userProfile/${t.ownuser}`}},[t._v("@"+t._s(s.username))])],1),e("div",{staticClass:"date"},[t._v(t._s(t.formatDate(s.date)))])]),e("div",{staticClass:"content"},[t._v(t._s(s.message))])])})),0)},z=[],q={data(){return{publicationData:[],ownuser:""}},async created(){this.ownuser=this.$store.state.auth.user.username,await this.$store.dispatch("auth/doAllPublicactions",this.ownuser),this.publicationData=this.$store.state.auth.allPublications},computed:{sortedPublications(){return this.publicationData.sort(((t,e)=>new Date(e.date)-new Date(t.date)))}},methods:{formatDate(t){const e={timeZone:"Atlantic/Canary",hour12:!1,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"},s=new Date(t).toLocaleString("es",e);return s}}},E=q,j=(0,c.Z)(E,T,z,!1,null,"569093d2",null),B=j.exports,J={components:{Navbar:b,publication:B},data(){return{publications:[],findUsername:"",sidebarActive:!1,usernames:[],ownuser:""}},created(){if(localStorage.getItem("token")){const t=localStorage.getItem("user");t&&this.$store.commit("auth/setUser",JSON.parse(t)),this.ownuser=this.$store.state.auth.user.username}},computed:{isMobile(){return window.innerWidth<=768}},methods:{toggleSidebar(){this.sidebarActive=!this.sidebarActive},logout(){this.$store.dispatch("auth/doLogout")},async searchUser(){await this.$store.dispatch("auth/doSearchUser",this.findUsername),this.usernames=this.$store.state.auth.usernames}}},R=J,G=(0,c.Z)(R,O,F,!1,null,null,null),W=G.exports,H=function(){var t=this,e=t._self._c;return e("div",[e("Navbar"),e("div",{staticClass:"container mt-4"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-3"},[e("div",{staticClass:"card mb-3"},[e("div",{staticClass:"card-body"},[this.userInfo?e("h5",{staticClass:"card-title"},[t._v("@"+t._s(this.userInfo.username))]):t._e(),this.userInfo?e("p",{staticClass:"card-text"},[t._v("Seguidores "+t._s(this.userInfo.followers.length))]):t._e(),this.userInfo?e("p",{staticClass:"card-text"},[t._v("Siguiendo "+t._s(this.userInfo.follows.length))]):t._e()])])]),e("div",{staticClass:"col-md-9"},[e("div",{staticClass:"bigcard"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("form",{on:{submit:function(e){return e.preventDefault(),t.createpublication.apply(null,arguments)}}},[e("div",{staticClass:"form-floating"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.newpublicationContent,expression:"newpublicationContent"}],staticClass:"form-control",attrs:{placeholder:"Leave a comment here"},domProps:{value:t.newpublicationContent},on:{input:function(e){e.target.composing||(t.newpublicationContent=e.target.value)}}}),e("label",{attrs:{for:"floatingTextarea"}},[t._v("Nueva publicacion")])]),e("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v("Publicar")])])]),t.showAlert?e("div",{staticClass:"alert alert-success mt-3",attrs:{role:"alert"}},[t._v(" Publicación enviada exitosamente. "),e("button",{staticClass:"btn-close",attrs:{type:"button"},on:{click:t.closeAlert}})]):t._e(),t.showEmptyAlert?e("div",{staticClass:"alert alert-danger mt-3",attrs:{role:"alert"}},[t._v(" El contenido de la publicación no puede estar vacío. "),e("button",{staticClass:"btn-close",attrs:{type:"button"},on:{click:t.closeEmptyAlert}})]):t._e()]),e("h4",[t._v("Mis publicaicones")]),e("publication")],1)])])])],1)},K=[],Q=function(){var t=this,e=t._self._c;return e("div",t._l(t.sortedPublications,(function(s,a){return e("div",{key:a,staticClass:"publication"},[e("div",{staticClass:"user-info"},[e("div",{staticClass:"username"},[t._v("@"+t._s(s.username))]),e("div",{staticClass:"date"},[t._v(t._s(t.formatPublicationDate(s.date)))])]),e("div",{staticClass:"content"},[t._v(t._s(s.message))]),e("div",{staticClass:"d-flex justify-content-end"},[t.isUserProfileRoute?e("button",{staticClass:"btn btn-danger btn-sm bi-trash-fill",on:{click:function(e){return t.doDeletePub(s._id)}}}):t._e()])])})),0)},V=[],X={data(){return{username:"",publicationData:[]}},async created(){const t=this.$route.params;t.userfind?this.username=t.userfind:this.username=t.username,await this.$store.dispatch("auth/doPublications",this.username),this.$nextTick((()=>{this.publicationData=this.$store.state.auth.publications}))},computed:{sortedPublications(){return this.publicationData.sort(((t,e)=>new Date(e.date)-new Date(t.date)))},isUserProfileRoute(){return this.$route.path.includes("/userProfile/")}},methods:{formatPublicationDate(t){const e={timeZone:"Atlantic/Canary",hour12:!1,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"},s=new Date(t).toLocaleString("es",e);return s},async doDeletePub(t){await this.$store.dispatch("auth/doDeletePub",t).then((()=>{window.location.reload()})).catch((t=>{console.error("Error al eliminar la publicación:",t)}))}}},Y=X,tt=(0,c.Z)(Y,Q,V,!1,null,"0ebd3b47",null),et=tt.exports,st={components:{Navbar:b,publication:et},data(){return{newpublicationContent:"",showAlert:!1,showEmptyAlert:!1,userInfo:null}},async created(){if(localStorage.getItem("token")){const t=this.$route.params.username;t&&(await this.$store.dispatch("auth/doGetUser",t),this.userInfo=this.$store.state.auth.findUser),console.log(this.$store.state.auth.findUser)}},methods:{async createpublication(){""!==this.newpublicationContent.trim()?(await this.$store.dispatch("auth/sendPublication",this.newpublicationContent),this.newpublicationContent="",this.showAlert=!0,setTimeout((()=>{this.showAlert=!1}),3e3),window.location.reload()):this.showEmptyAlert=!0},closeAlert(){this.showAlert=!1},closeEmptyAlert(){this.showEmptyAlert=!1}}},at=st,it=(0,c.Z)(at,H,K,!1,null,null,null),rt=it.exports,ot=function(){var t=this,e=t._self._c;return e("div",[e("Navbar"),e("div",{staticClass:"container mt-4"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-3"},[e("div",{staticClass:"card mb-3"},[e("div",{staticClass:"card-body"},[e("h5",{staticClass:"card-title"},[t._v("@"+t._s(this.userInfoFront.username))]),e("p",{staticClass:"card-text seguidores"},[t._v("Seguidores "+t._s(this.followers))]),e("p",{staticClass:"card-text siguiendo"},[t._v("Siguiendo "+t._s(this.follows))]),e("button",{staticClass:"btn btn-primary",on:{click:t.followUser}},[t._v(t._s(t.checkFollow?"Siguiendo":"Seguir"))]),e("svg",{staticStyle:{display:"none"},attrs:{xmlns:"http://www.w3.org/2000/svg"}},[e("symbol",{attrs:{id:"exclamation-triangle-fill",fill:"currentColor",viewBox:"0 0 16 16"}},[e("path",{attrs:{d:"M8.982 1.566a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566zM8 5c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995A.905.905 0 0 1 8 5zm.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"}})])]),t.message&t.checkFollow?e("div",{staticClass:"alert alert-danger d-flex align-items-center d-flex justify-content-center",attrs:{role:"alert"}},[e("svg",{staticClass:"bi flex-shrink-0 me-2",attrs:{width:"24",height:"24",role:"img","aria-label":"Danger:"}},[e("use",{attrs:{"xlink:href":"#exclamation-triangle-fill"}})]),e("div",[t._v(" "+t._s(this.message)+" ")])]):t._e()])])]),e("div",{staticClass:"col-md-9"},[e("div",{staticClass:"bigcard"},[e("h4",[t._v("Publicaicones")]),e("publication")],1)])])])],1)},nt=[],lt={components:{Navbar:b,publication:et},data(){return{newpublicationContent:"",userInfoFront:{},message:"",user:"",userfind:"",checkFollow:!1,follows:0,followers:0}},async created(){if(localStorage.getItem("token")){const t=localStorage.getItem("user");t&&this.$store.commit("auth/setUser",JSON.parse(t));const e=this.$route.params.userfind;e&&(await this.$store.dispatch("auth/doGetUser",e),this.userInfoFront=this.$store.state.auth.findUser,this.follows=this.userInfoFront.follows.length,this.followers=this.userInfoFront.followers.length),this.user=this.$route.params.username,this.userfind=this.$route.params.userfind,await this.$store.dispatch("auth/doCheckFollow",{username:this.user,finduser:this.userfind}),console.log(this.$store.state.auth.message),this.$store.state.auth.message.error?(this.checkFollow=!1,this.message=this.$store.state.auth.message.message):(this.checkFollow=!0,this.message=this.$store.state.auth.message.error),console.log(this.checkFollow)}},methods:{async followUser(){this.checkFollow?await this.unfollowUser():(await this.$store.dispatch("auth/doFollowing",{username:this.user,finduser:this.userfind}),this.checkFollow=!0,this.followers++),this.message=this.$store.state.auth.message},async unfollowUser(){await this.$store.dispatch("auth/doUnfollowing",{username:this.user,finduser:this.userfind}),this.message=this.$store.state.auth.message,this.checkFollow=!1,this.followers--},async createpublication(){await this.$store.dispatch("auth/sendPublication",this.newpublicationContent)}}},ct=lt,ut=(0,c.Z)(ct,ot,nt,!1,null,null,null),dt=ut.exports,mt=s(2631);a.ZP.use(mt.ZP);const ht=[{path:"/",name:"home",component:D},{path:"/homeLogin/:username",name:"homeLogin",component:W,meta:{requiresAuth:!0}},{path:"/userProfile/:username",component:rt,props:!0,meta:{requiresAuth:!0}},{path:"/findUser/:username/:userfind",component:dt,props:!0,meta:{requiresAuth:!0}},{path:"/login",component:x},{path:"/register",component:U}],pt=new mt.ZP({routes:ht});pt.beforeEach(((t,e,s)=>{if(t.matched.some((t=>t.meta.requiresAuth))){const t=localStorage.getItem("token");t?s():s("/login")}else s()}));var gt=pt,ft=s(3822),vt=s(4161);a.ZP.use(ft.ZP);var wt={namespaced:!0,state:{message:"",email:"",password:"",user:"",following:"",findUser:{},usernames:[],publications:{},allPublications:{},isAuth:!!localStorage.getItem("token"),token:localStorage.getItem("token")?localStorage.getItem("token"):void 0},mutations:{setEmail(t,e){t.email=e},setPassword(t,e){t.password=e},setName(t,e){t.name=e},setUsernames(t,e){t.usernames=e},setIsAuth(t,e){t.isAuth=e},setUser(t,e){t.user=e},setFindUser(t,e){t.findUser=e},setFollowing(t,e){t.following=e},setMessage(t,e){t.message=e},setPublications(t,e){t.publications=e},setAllPublications(t,e){t.allPublications=e},resetState(t){t.message="",t.email="",t.password="",t.user="",t.findUser="",t.isAuth=!1}},actions:{async doLogin({commit:t},e){try{const s=await vt.Z.post("https://e03-production.up.railway.app/api/login",{email:e.email,password:e.password}),a=s.data.user,i=s.data.message;t("setUser",a),t("setMessage",i),t("setIsAuth",!0),localStorage.setItem("token",s.data.data.token),localStorage.setItem("user",JSON.stringify(a))}catch(s){t("setMessage",JSON.parse(s.response.request.responseText).error),t("setIsAuth",!1)}},async doLogout({commit:t}){localStorage.removeItem("token"),t("resetState"),gt.push("/")},async doRegister({commit:t},e){try{const s=await vt.Z.post("https://e03-production.up.railway.app/api/register",{email:e.email,password:e.password,username:e.username,name:e.name}),a=s.data.message;t("setMessage",a),t("setIsAuth",!0)}catch(s){t("setMessage",JSON.parse(s.response.request.responseText).error),t("setIsAuth",!1)}},async sendPublication({commit:t,state:e},s){if(e.isAuth){console.log(e.findUser);try{const a=await vt.Z.post("https://e03-production.up.railway.app/api/publication",{username:e.findUser.username,message:s},{headers:{authorization:"Bearer "+e.token}});t("setMessage",a)}catch(a){t("setMessage",a)}}},async doSearchUser({commit:t,state:e},s){if(e.isAuth)try{const a=await vt.Z.get(`https://e03-production.up.railway.app/api/searchUser/${s}`,{headers:{authorization:"Bearer "+e.token}}),i=a.data.username;t("setUsernames",i),t("setMessage",a)}catch(a){t("setMessage",a)}},async doGetUser({commit:t,state:e},s){if(e.isAuth)try{const a=await vt.Z.get(`https://e03-production.up.railway.app/api/getUser/${s}`,{headers:{authorization:"Bearer "+e.token}}),i=a.data.user;t("setFindUser",i)}catch(a){t("setMessage",JSON.parse(a.response.request.responseText).error)}},async doPublications({commit:t,state:e},s){if(e.isAuth)try{const a=await vt.Z.get(`https://e03-production.up.railway.app/api/getPublications/${s}`,{headers:{authorization:"Bearer "+e.token}}),i=a.data.publications;t("setPublications",i)}catch(a){t("setMessage",JSON.parse(a.response.request.responseText).error)}},async doDeletePub({commit:t,state:e},s){if(e.isAuth)try{const a=await vt.Z["delete"](`https://e03-production.up.railway.app/api/deletePub/${s}`,{headers:{authorization:"Bearer "+e.token},data:{username:e.findUser.username}}),i=a.data.message;t("setMessage",i)}catch(a){t("setMessage",JSON.parse(a.response.request.responseText).error)}},async doAllPublicactions({commit:t,state:e},s){if(e.isAuth)try{const a=await vt.Z.get(`https://e03-production.up.railway.app/api/getAllPublications/${s}`,{headers:{authorization:"Bearer "+e.token}}),i=a.data.publications;t("setAllPublications",i)}catch(a){t("setMessage",JSON.parse(a.response.request.responseText).error)}},async doFollowing({commit:t,state:e},{username:s,finduser:a}){if(e.isAuth)try{const i=await vt.Z.post(`https://e03-production.up.railway.app/api/following/${s}/${a}`,{headers:{authorization:"Bearer "+e.token}});t("setMessage",i)}catch(i){t("setMessage",JSON.parse(i.response.request.responseText).error)}},async doUnfollowing({commit:t,state:e},{username:s,finduser:a}){if(e.isAuth)try{console.log(s,a);const i=await vt.Z.post(`https://e03-production.up.railway.app/api/unfollowing/${s}/${a}`,{headers:{authorization:"Bearer "+e.token}});t("setMessage",i)}catch(i){t("setMessage",JSON.parse(i.response.request.responseText).error)}},async doCheckFollow({commit:t,state:e},{username:s,finduser:a}){if(e.isAuth)try{const i=await vt.Z.post(`https://e03-production.up.railway.app/api/checkfollowing/${s}/${a}`,{headers:{authorization:"Bearer "+e.token}});t("setMessage",i.data)}catch(i){t("setMessage",JSON.parse(i.response.request.responseText))}}}};a.ZP.use(ft.ZP);var bt=new ft.ZP.Store({state:{},getters:{},mutations:{},actions:{},modules:{auth:wt}});a.ZP.config.productionTip=!1,new a.ZP({router:gt,store:bt,render:t=>t(d)}).$mount("#app")},8796:function(t,e,s){"use strict";t.exports=s.p+"img/chameleon (3).921af1d3.png"}},e={};function s(a){var i=e[a];if(void 0!==i)return i.exports;var r=e[a]={exports:{}};return t[a](r,r.exports,s),r.exports}s.m=t,function(){var t=[];s.O=function(e,a,i,r){if(!a){var o=1/0;for(u=0;u<t.length;u++){a=t[u][0],i=t[u][1],r=t[u][2];for(var n=!0,l=0;l<a.length;l++)(!1&r||o>=r)&&Object.keys(s.O).every((function(t){return s.O[t](a[l])}))?a.splice(l--,1):(n=!1,r<o&&(o=r));if(n){t.splice(u--,1);var c=i();void 0!==c&&(e=c)}}return e}r=r||0;for(var u=t.length;u>0&&t[u-1][2]>r;u--)t[u]=t[u-1];t[u]=[a,i,r]}}(),function(){s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,{a:e}),e}}(),function(){s.d=function(t,e){for(var a in e)s.o(e,a)&&!s.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){s.p="/"}(),function(){var t={143:0};s.O.j=function(e){return 0===t[e]};var e=function(e,a){var i,r,o=a[0],n=a[1],l=a[2],c=0;if(o.some((function(e){return 0!==t[e]}))){for(i in n)s.o(n,i)&&(s.m[i]=n[i]);if(l)var u=l(s)}for(e&&e(a);c<o.length;c++)r=o[c],s.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return s.O(u)},a=self["webpackChunkmy_project"]=self["webpackChunkmy_project"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=s.O(void 0,[998],(function(){return s(3006)}));a=s.O(a)})();
//# sourceMappingURL=app.844de880.js.map